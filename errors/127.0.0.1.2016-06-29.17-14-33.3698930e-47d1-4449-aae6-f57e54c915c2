(dp1
S'output'
p2
S'<class \'_mysql_exceptions.ProgrammingError\'> (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near \'password=123\' at line 1")'
p3
sS'layer'
p4
S'D:\\web2py\\applications\\BrainChaco\\controllers/JugadorController.py'
p5
sS'code'
p6
S'# -*- coding: utf-8 -*-\n# intente algo como\nimport smtplib\n\n#get\ndef login(): \n    response.view = "JugadorController/login.html"\n    return dict(LError=\'\',LNom=\'\',LPsw=\'\')\n\n#post\ndef loginCompleto():\n\tform = request.post_vars\n\trow=db.executesql("SELECT id,nombre FROM USUARIOS WHERE nombre="+form.LNom+"and password="+form.LPsw)\n\t#row = db((db.usuarios.nombre == form.LNom) & (db.usuarios.password == form.LPsw)).select()\n\tif len(row)== 0:\n\t\tresponse.view = "JugadorController/login.html"\n\t\treturn dict(LNom=form.LNom,LPsw=form.LPsw,LError=\'Usuario no registrado / Ingreso mal sus datos\')\n\telse:\n\t\tresponse.view = "JugadorController/login.html"\n\t\tfor user in row:\n\t\t\tsession.id=user[0]\n   \t\tsession.jugador=form.LNom\n   \t\treturn dict(LNom=form.LNom,LPsw=form.LPsw,LError=\'Bienvenido\')\n\ndef registro(): \n    response.view = "JugadorController/registro.html"\n    return dict(nombre=\'\',email=\'\',psw=\'\',Error=\'\',EError=\'\')\n\ndef registroCompleto():\n\tform = request.post_vars\n\tnick = db(db.usuarios.nombre == form.Nom).select()\n\tcorr = db(db.usuarios.correo == form.Eml).select()\n\tif (len(nick) == 0) and (len(corr) == 0):\n\t\tdb.usuarios.insert(nombre=form.Nom,correo=form.Eml,password=form.Pas)\n\t\tresponse.view = "JugadorController/registro.html"\n\t\tsession.puntaje=0\n   \t\tsession.jugador=form.Nom\n\t\treturn dict(nombre=\'\',email=\'\',psw=\'\',Error=\'Registro Exitoso!\',EError=\'\')\n\telif (len(corr) == 0):\n\t\tresponse.view = "JugadorController/registro.html"\n\t\treturn dict(nombre=form.Nom,email=form.Eml,psw=form.psw,Error=\'Nombre ya existe\',EError=\'\')\n\telif (len(nick) == 0):\n\t\tresponse.view = "JugadorController/registro.html"\n\t\treturn dict(nombre=form.Nom,email=form.Eml,psw=form.psw,Error=\'\',EError=\'Correo ya esta registrado\')\n\n\telse:\n\t\tresponse.view = "JugadorController/registro.html"\n\t\treturn dict(nombre=form.Nom,email=form.Eml,psw=form.psw,Error=\'El Nombre ya existe\',EError=\'el Correo ya esta registrado\')\t\n\n\ndef recuperar():\n\tresponse.view= "JugadorController/recuperar.html"\n\treturn dict(nombre=\'\',Error=\'\')\n\ndef mensaje():\n\tdatos = request.post_vars\n\trow = db(db.usuarios.correo == datos.rEm).select()\n\tif len(row)==0:\n\t\tresponse.view= "JugadorController/recuperar.html"\n\t\treturn dict(nombre=\'\',Error=\'Correo Erroneo\')\n\telse:\n\t\tresponse.view= "JugadorController/login.html"\n\t\tusuario = dict(row=row)\n\t\tfor dato in row:\n\t\t\tcontra = dato.password\n\t\t\temail = dato.correo\n\t\tsender = \'projectonepm@gmail.com\'\n\t\tlogin = \'projectonepm@gmail.com:demos2016\'\n\t\tsend_test_to = email\n\t\tmail.settings.tls = True\n\t\tserver = \'{0}{1}{2}\'.format(\'smtp.\', \'gmail.com\', \':465\')\n\t\tmail.settings.server = server\n\t\tmail.settings.sender = sender\n\t\tmail.settings.login = login\n\t\tmail.send(to=[send_test_to],\n            subject=\'Recuperar Contrase\xc3\xb1a\',\n            \n            message=\'Su contrase\xc3\xb1a es: \' + contra)     \n\t\treturn dict(nombre=\'\',Error=\'\',LError=\'\',LNom=\'\',LPsw=\'\')\n\ndef cerrar():\n\tsession.jugador=None\n\tredirect(URL(\'HomeController\',\'index\'))\n\treturn dict()\nresponse._vars=response._caller(loginCompleto)\n'
p7
sS'snapshot'
p8
(dp9
sS'traceback'
p10
S'Traceback (most recent call last):\n  File "D:\\web2py\\gluon\\restricted.py", line 227, in restricted\n    exec ccode in environment\n  File "D:\\web2py\\applications\\BrainChaco\\controllers/JugadorController.py", line 85, in <module>\n  File "D:\\web2py\\gluon\\globals.py", line 417, in <lambda>\n    self._caller = lambda f: f()\n  File "D:\\web2py\\applications\\BrainChaco\\controllers/JugadorController.py", line 13, in loginCompleto\n    row=db.executesql("SELECT id,nombre FROM USUARIOS WHERE nombre="+form.LNom+"and password="+form.LPsw)\n  File "D:\\web2py\\gluon\\packages\\dal\\pydal\\base.py", line 1019, in executesql\n    adapter.execute(query)\n  File "D:\\web2py\\gluon\\packages\\dal\\pydal\\adapters\\base.py", line 1388, in execute\n    return self.log_execute(*a, **b)\n  File "D:\\web2py\\gluon\\packages\\dal\\pydal\\adapters\\base.py", line 1382, in log_execute\n    ret = self.get_cursor().execute(command, *a[1:], **b)\n  File "MySQLdb/cursors.py", line 205, in execute\n  File "MySQLdb/connections.py", line 36, in defaulterrorhandler\nProgrammingError: (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near \'password=123\' at line 1")\n'
p11
s.